import g18n
import g18n/locale

pub fn main() {
  // Test new two-module structure
  let assert Ok(en_locale) = locale.new("en")
  let translations =
    g18n.new_translations()
    |> g18n.add_translation("hello", "Hello")
    |> g18n.add_translation("goodbye", "Goodbye")
    |> g18n.add_translation("item.one", "1 item")
    |> g18n.add_translation("item.other", "{count} items")

  let en_translator = g18n.new_translator(en_locale, translations)

  let greeting = g18n.translate(en_translator, "hello")
  let goodbye = g18n.translate(en_translator, "goodbye")

  // Test pluralization
  let item_singular = g18n.translate_plural(en_translator, "item", 1)
  let items_plural = g18n.translate_plural(en_translator, "item", 5)

  assert greeting == "Hello"
  assert goodbye == "Goodbye"
  assert item_singular == "1 item"
  assert items_plural == "5 items"
}
